module.exports=function(n){var o={};function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=n,r.c=o,r.d=function(n,o,t){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:t})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o)return n;if(4&o&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&o&&"string"!=typeof n)for(var e in n)r.d(t,e,function(o){return n[o]}.bind(null,e));return t},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=10)}([function(n,o){n.exports=flarum.core.compat.app},function(n,o){n.exports=flarum.core.compat.extend},function(n,o,r){"use strict";function t(n,o){n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o}r.d(o,"a",(function(){return t}))},function(n,o){n.exports=flarum.core.compat["components/Button"]},function(n,o){n.exports=flarum.core.compat["components/UserCard"]},function(n,o){n.exports=flarum.core.compat.Model},function(n,o){n.exports=flarum.core.compat["models/User"]},function(n,o){n.exports=flarum.core.compat["components/SettingsPage"]},function(n,o){n.exports=flarum.core.compat["components/Modal"]},,function(n,o,r){"use strict";r.r(o);var t=r(0),e=r.n(t),s=r(4),a=r.n(s),u=r(1),i=r(5),c=r.n(i),p=r(6),l=r.n(p),f=r(3),d=r.n(f),h=r(7),b=r.n(h),y=r(2),_=r(8),x=function(n){function o(){return n.apply(this,arguments)||this}Object(y.a)(o,n);var r=o.prototype;return r.init=function(){n.prototype.init.call(this),this.success=!1,this.pronouns=m.prop(e.a.session.user.pronouns())},r.className=function(){return"ChangePronounsModal Modal--small"},r.title=function(){return e.a.translator.trans("shriker-pronouns.forum.change_pronouns_title")},r.content=function(){return this.success?m("div",{className:"Modal-body"},m("div",{className:"Form Form--centered"},m("p",{className:"helpText"},e.a.translator.trans("shriker-pronouns.forum.submit_success_text")),m("div",{className:"Form-group"},m(d.a,{className:"Button Button--primary Button--block",onclick:this.hide.bind(this)},e.a.translator.trans("shriker-pronouns.forum.dismiss_button"))))):m("div",{className:"Modal-body"},m("div",{className:"Form"},m("div",{className:"Form-group"},m("label",null,e.a.translator.trans("shriker-pronouns.forum.my_pronouns_are_label")),m("input",{name:"pronouns",className:"FormControl",placeholder:e.a.session.user.pronouns()?e.a.session.user.pronouns():e.a.translator.trans("shriker-pronouns.forum.my_pronouns_are_placeholder"),bidi:this.pronouns,disabled:this.loading}),m("p",{class:"helpText"},e.a.translator.trans("shriker-pronouns.forum.my_pronouns_are_help_text",{a:m("a",{href:"https://www.mypronouns.org/what-and-why",target:"_blank"})}))),m("div",{className:"Form-group"},d.a.component({className:"Button Button--primary Button--block",type:"submit",loading:this.loading,children:e.a.translator.trans("shriker-pronouns.forum.submit_button")}))))},r.onsubmit=function(n){var o=this;n.preventDefault(),this.pronouns()!==e.a.session.user.pronouns()?(this.loading=!0,e.a.session.user.save({pronouns:this.pronouns()},{errorHandler:this.onerror.bind(this)}).then((function(){return o.success=!0})).catch((function(){})).then(this.loaded.bind(this))):this.hide()},r.onerror=function(o){n.prototype.onerror.call(this,o)},o}(r.n(_).a);e.a.initializers.add("shriker/flarum-pronouns",(function(){l.a.prototype.pronouns=c.a.attribute("pronouns"),Object(u.extend)(b.a.prototype,"accountItems",(function(n){n.add("changePronouns",d.a.component({children:e.a.translator.trans("shriker-pronouns.forum.change_pronouns_button"),className:"Button Button-pronouns",icon:"fas fa-chess-queen",onclick:function(){return e.a.modal.show(new x)}}))})),Object(u.extend)(a.a.prototype,"infoItems",(function(n){var o=this.props.user.pronouns();"undefined"!=o&&null!=o&&n.add("pronouns",m("span",{className:"UserCard-personalPronouns"},e.a.forum.attribute("pronounsPrefix")?e.a.forum.attribute("pronounsPrefix"):"",o),10)}))}))}]);
//# sourceMappingURL=forum.js.map